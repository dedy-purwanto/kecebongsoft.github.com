<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Dedy Purwanto" />
        <meta name="copyright" content="Dedy Purwanto" />
        <meta property="fb:admins" content="kecebongsoft" />

<meta name="keywords" content=", Komputer, " />
        <title>Mendapatkan nilai FPS - Bagian 2  · Dedy Purwanto
</title>
        <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://kecebongsoft.com/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://kecebongsoft.com/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="http://kecebongsoft.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="http://kecebongsoft.com/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://kecebongsoft.com/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://kecebongsoft.com/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://kecebongsoft.com/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://kecebongsoft.com/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="http://kecebongsoft.com/theme/images/apple-touch-icon-144x144.png" />
        <link href="http://kecebongsoft.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dedy Purwanto - Full Atom Feed" />
        <link href="http://kecebongsoft.com/feeds/Komputer.atom.xml" type="application/atom+xml" rel="alternate" title="Dedy Purwanto - Komputer Category Atom Feed" />
        <link href="http://kecebongsoft.com/feeds/Personal.atom.xml" type="application/atom+xml" rel="alternate" title="Dedy Purwanto - Personal Category Atom Feed" />
        <link href="http://kecebongsoft.com/feeds/Perspektif.atom.xml" type="application/atom+xml" rel="alternate" title="Dedy Purwanto - Perspektif Category Atom Feed" />
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36468240-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    </head>
    <body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1507469096175247&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://kecebongsoft.com/"><span class=site-name>Dedy Purwanto</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://kecebongsoft.com">Home</a></li>
                            <li ><a href="http://kecebongsoft.com/categories.html">Kategori</a></li>
                            <!--
                            <li ><a href="http://kecebongsoft.com/tags.html">Tags</a></li>
                            -->
                            <li ><a href="http://kecebongsoft.com/archives.html">Arsip</a></li>
                            <li><form class="navbar-search" action="http://kecebongsoft.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Cari.." name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="http://kecebongsoft.com/2007/11/mendapatkan-nilai-fps-bagian-2.html"> Mendapatkan nilai FPS - Bagian 2  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            <p>Setelah post sebelumnya membahas tentang bagaimana cara mendapatkan nilai FPS dengan mengambil nilai waktu menggunakan fungsi GetTickCount(), sekarang kita akan mencoba mengambil nilai fps yang lebih presisi, kali ini menggunakan fungsi QueryPerformanceCounter dan QueryPerformanceFrequency, funsi ini akan menghitung "tick" atau clock prosesor sehingga hasilnya lebih akurat dari GetTickCount. Aturan mainnya agak berbeda dari cara menghitung FPS yang sebelumnya, urutan adalah sebagai berikut</p>
<ol>
<li>Ambil nilai frekuensi tick (f)</li>
<li>Ambil nilai waktu sekarang (w1)</li>
<li>Mulai Render</li>
<li>Hentikan Render</li>
<li>Ambil nilai waktu sekarang (w2)</li>
<li>delta waktu = w2-21</li>
<li>waktu render = delta waktu/frekuensi</li>
<li>fps = 1 / waktu render</li>
</ol>
<p>Dari urutan diatas, maka kita buat satu fungsi untuk menghitung fps dengan lebih presisi :
    :::txt
void Looping()
{ <br />
    static double rendertime;
    static double fps;
    static  __int64 w1,w2,freq;</p>
<div class="highlight"><pre><span class="n">QueryPerformanceFrequency</span><span class="p">((</span><span class="n">LARGE_INTEGER</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">freq</span><span class="p">;);</span>
<span class="n">QueryPerformanceCounter</span><span class="p">((</span><span class="n">LARGE_INTEGER</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">w1</span><span class="p">;);</span>

<span class="cm">/* Mulai rutinitas render disini */</span>

<span class="cm">/* Hentikan rutinitas render disini */</span>

<span class="n">QueryPerformanceCounter</span><span class="p">((</span><span class="n">LARGE_INTEGER</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">w2</span><span class="p">;);</span>
<span class="n">rendertime</span><span class="o">=</span><span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">w2</span><span class="o">-</span><span class="n">w1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">freq</span><span class="p">);</span>
<span class="n">fps</span><span class="o">=</span><span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">rendertime</span><span class="p">;</span>
</pre></div>


<p>}</p>
<p>Pertama-tama kita melakukan casting terhadap variabel w1, w2 dan freq, karena tipenya adalah integer 64 dan parameter untuk fungsi QueryPerformanceFrequency/QueryPerformanceCounter adalah LARGE_INTEGER. Pada baris terakhir, kita cast hasil delta waktu menjadi double karena tipe dari rendertime dan fps adalah double.</p>
<p>Met mencoba ya :D</p>
            <div style='text-align:center; margin: 80px 0px; font-style: italic; font-weight: bold; color: #373737; font-size: 9pt;'>
                <div> Tue, 13 Nov 2007 </div>
                <img src="/pagebreak.png" style="border:none; width:223px;margin-top:-17px;" />
            </div>
            <aside style='text-align:center;'>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">« <a href="http://kecebongsoft.com/2007/11/mendapatkan-nilai-fps.html" title="Previous: Mendapatkan nilai FPS">Mendapatkan nilai FPS</a></li>
 
                <li class="next_article"><a href="http://kecebongsoft.com/2007/11/bye-bye.html" title="Next: Bye bye..">Bye bye..</a> »</li>
            </ul>
<div class="fb-comments" style='margin-top:30px;' data-href="http://kecebongsoft.com/2007/11/mendapatkan-nilai-fps-bagian-2.html" data-numposts="5" data-colorscheme="light"></div>            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;display:none;">
 
            <h4>Ditulis</h4>
            <time pubdate="pubdate" datetime="2007-11-13T08:27:42">Nov 13, 2007</time>
            <h4>Kategori</h4>
            <a class="category-link" href="/categories.html#Komputer-ref">Komputer</a> 

        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">Dedy Purwanto</span> - &copy;2004-2015 Dedy Purwanto</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    </body>
</html>