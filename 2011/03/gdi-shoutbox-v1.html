<!DOCTYPE html>
<!--[if lt IE 8]>
<html class="ie" dir="ltr" lang="en-US">
<![endif]-->
<!--[if ! lt IE 8 ]><!-->
<html dir="ltr" lang="en-US">
<!--<![endif]-->

<head>
<meta charset="UTF-8" />
<link rel="stylesheet" media="all" href="http://kecebongsoft.com/theme/css/style.css" />
<script>
var templateDir = "http://kecebongsoft.com/theme/";
// make windows load system fonts
if(navigator.appVersion.indexOf("Win") != -1) {
    var windowsCss = document.createElement("link");

    windowsCss.setAttribute("rel", "stylesheet");
    windowsCss.setAttribute("media", "all");
    windowsCss.setAttribute("href", "http://kecebongsoft.com/theme/css/windows.css");

    var head = document.getElementsByTagName("head")[0];
    head.appendChild(windowsCss);

    windows = true;

} else {
    var fontCss = document.createElement("link");

    fontCss.setAttribute("rel", "stylesheet");
    fontCss.setAttribute("media", "all");
    fontCss.setAttribute("href", "http://kecebongsoft.com/theme/css/fonts-1-2.css");

    var head = document.getElementsByTagName("head")[0];
    head.appendChild(fontCss);
}
</script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="http://kecebongsoft.com/theme/js/moment-with-langs.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:locale" content="en_US" />

<meta property="og:type" content="article" />
<meta property="og:title" content="GDI ShoutBox v1" />
<meta property="og:description" content="![image](/img/wordpress/2011-03-hdr_logo-o1.gif) GDIShoutbox adalah aplikasi web-based real-time chat yang dibangun diatas Google App Engine (GAE). GDISB memakai beberapa teknologi yang memungkinkan aplikasi chat menjadi lebih ringan, cepat, dan efisien. GDISB sudah mulai dikembangkan sejak awal tahun ini, ide pengembangannya muncul karena website gamedev dimana saya aktif , punya ..." />
<meta property="og:url" content="2011/03/gdi-shoutbox-v1.html" />


<title>Dedi P. : GDI ShoutBox v1</title>

<link href="http://kecebongsoft.com/" type="application/atom+xml" rel="alternate" title="Dedi P. ATOM Feed" />

<!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>

<body>

    <article id='content'>
        <header> <a id="logo" href="http://kecebongsoft.com">Dedi P.</a> </header>
        

<section id="post">
    <h1 class="section_separator">
        <span>Thu 03 March 2011</span>
    </h1>
    <article id="" class="post">

        <h1 class="post_title">GDI ShoutBox v1</h1>
        <p>
 ![image](/img/wordpress/2011-03-hdr_logo-o1.gif)
</p>

<p>
 GDIShoutbox adalah aplikasi web-based real-time chat yang dibangun diatas
 <a href="http://code.google.com/appengine/" target="_blank">
  Google App Engine
 </a>
 (GAE). GDISB memakai beberapa teknologi yang memungkinkan aplikasi chat menjadi lebih ringan, cepat, dan efisien.
</p>

<p>
 GDISB sudah mulai dikembangkan sejak awal tahun ini, ide pengembangannya muncul karena website
 <a href="http://www.gamedevid.org/" target="_blank">
  gamedev dimana saya aktif
 </a>
 , punya modul shoutbox yang cukup lama down, salah satu alasan matinya modul shoutbox yang lama yaitu karena sangat
 <em>
  rakus
 </em>
 resource. Beberapa membernya termasuk saya mencarikan solusi untuk membuat shoutbox yang hemat resource dan sekiranya bisa di tanam di free hosting.
</p>

<p>
 Lalu munculah ide untuk mengembangkan aplikasi chat di GAE. GDISB awalnya dibangun dengan sistem
 <a href="http://en.wikipedia.org/wiki/Pooling_(resource_management)" target="_blank">
  traditional pooling
 </a>
 , dimana client akan melakukan request ke server dalam interval tertentu. Seiring waktu, GDISB mulai dibenahi dengan teknologi yang lebih baik, antara lain menggunakan teknologi Google Channel API (
 <a href="http://en.wikipedia.org/wiki/Comet_(programming)" target="_blank">
  Comet
 </a>
 ) untuk transaksi datanya, CronJob untuk meringankan beberapa proses update, serta memcache untuk mengurangi query ke Google Data Store.
</p>

<!--more-->

<p>
 Selain implementasi beberapa hal diatas, GDISB juga menggunakan OAuth untuk autentikasi user.
 <a href="http://gdi-accounts.appspot.com/" target="_blank">
  OAuth ditanam di aplikasi GAE yang lain
 </a>
 , thanks to @
 <a href="http://twitter.com/exavolt" target="_blank">
  exavolt
 </a>
 for providing this awesome service. GDISB juga menggunakan JQuery untuk beberapa fitur additionalnya.
</p>

<p>
 Thanks to all positive feedbacks, sekarang GDISB telah up and running di website
 <a href="http://www.gamedevid.org/" target="_blank">
  Gamedevid
 </a>
 , meskipun masih dalam status beta. Berkat pembenahan disana sini, GDISB sudah bisa meminimalisasi resource usage di server GAE yang free quotanya sangat minim, ini adalah latest chart dimana usage harian biasanya tidak lebih dari 10%:
</p>

<p>
 ![image](/img/wordpress/2011-03-untitled_thumb.png)
</p>

<p>
 Usage ini belum bisa dijadikan patokan efisiensi, karena sistem load testing di GAE adalah ramp up slowly. Meskipun begitu, grafik diatas cukup fantastis mengingat implementasi GDISB di awal yaitu traditional pooling, bisa memakan resource hingga 90% keatas tiap harinya.
</p>

<p>
 GDISB dilepas sebagai project opensource, dan bisa di download disini:
</p>

<p>
 <a href="https://github.com/GameDev-ID/shoutbox">
  https://github.com/GameDev-ID/shoutbox
 </a>
</p>

<p>
 Bagi yang tertarik untuk mempelajari Google App Engine dan Google Chanel API, silahkan baca artikel
 <a href="http://kecebongsoft.wordpress.com/2011/01/29/mengenal-google-channel-api-part-1/" target="_blank">
  ini
 </a>
 dan
 <a href="http://kecebongsoft.wordpress.com/2011/01/30/mengenal-google-channel-api-part-2/" target="_blank">
  ini
 </a>
 .
</p>
        <span class="post_fleuron symbol">Ð</span>

        <div id='comments'></div>

<script>
$(function(){

    function format_comment(name, comment, comment_date) {
        moment.lang('id');
        comment_date = moment(comment_date);

        return  "<div class='comment' style='margin-bottom:20px;'><span style='font-weight:bold;'>" + name + "</span> " + 
        "<span style='color:#acacac'>" + comment_date.format('Do MMMM YYYY') + "</span><br />" + "<p style='color:#8a8a8a'>" + comment + "</p></div>";
    }

    $.getJSON("http://kecebongsoft-blog-comments.appspot.com/get/?url=2011/03/gdi-shoutbox-v1.html", function(data){
        comments = data['comments'];

        form_html = "<form method='post' action=''>" +
            "<input type='text' id='name' name='name' placeholder='Nama' style='border:none;background-color:inherit;border-bottom:1px dotted #acacac;width:100%' ><br />" +
            "<textarea name='comment' id='comment' placeholder='Komentar' style='border:none;background-color:inherit;border-bottom:1px dotted #acacac;width:100%;height:70px;'></textarea><br />" +
            "<div style='float:right'><a id='comment_submit' href='#'>Kirim</a></div>" +
            "<div style='clear:both;'></div>" + 
            "</form>";
            
        
        comment_list = "";
        comment_list += "<div id='comment_list'>";
        comment_list += "<div id='form'>" + form_html + "</div><div id='comments'>";
        if (comments.length > 0) {

            $("#comments").append("" +
                "<h3 style='text-align:center;'>" +
                    "<a href='#' id='comments_toggle'>Lihat komentar (" + comments.length + ")</a>" +
                    "</h3>");




            for (i = 0; i < comments.length ; i += 1 ) {
                c = comments[i];
                comment_list += format_comment(c['name'], c['comment'], c['date']);
            }




        } else {
            $("#comments").append("<h3 style='text-align:center;'><a href='#' id='comments_toggle'>Kirim komentar</a></h3>");
        }

        comment_list += "</div></div>";
        $("#comments").append(comment_list);

        $("#comments #comment_list #form #comment_submit").click(function(e){
            e.preventDefault();

            $name = $("#comments #comment_list #form form #name");
            $comment = $("#comments #comment_list #form form #comment");

            if ($name.val() == '' || $comment.val() == '') {
                console.log('type first');
            }else{
                console.log($name.val());
                console.log($comment.val());
                $.getJSON('http://kecebongsoft-blog-comments.appspot.com/post/?url=2011/03/gdi-shoutbox-v1.html&name=' + 
                    $name.val() + '&comment=' + $comment.val(), function(new_comment){

                    $("#comments #comment_list #comments").prepend(format_comment(new_comment['name'], new_comment['comment'], new_comment['date']));

                    $name.val('');
                    $comment.val('');
                });

            }

            return false;
        });
        $("#comments #comment_list").hide();
        $("#comments_toggle").click(function(e){
            e.preventDefault();
            $("#comment_list").show();
            return false;
        });
    });

});
</script>
        

    </article>

</section>

        <footer>
            <h1 class="section_separator"><span></span></h1>
            <nav>
                <a href='/2001/01/about.html' class='site-links'>Siapa saya</a> | 
                <a href='/archives.html' class='site-links'>Arsip tulisan</a>
            </nav>
            <span>&copy;&nbsp;2004-2014 Dedi Purwanto</span>
        </footer>
    </article>



    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-36468240-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>